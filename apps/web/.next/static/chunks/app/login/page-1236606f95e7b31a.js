(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4794:function(e,t,a){Promise.resolve().then(a.bind(a,571))},571:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(6591),i=a(3168),n=a(2782),d=a(3413),s=a(999),o=a(6285),c=a(6525);function u(){let[e,t]=(0,i.useState)("owner@kanban.com"),[a,u]=(0,i.useState)("123456"),[l,m]=(0,i.useState)(""),h=(0,n.useRouter)(),g=(0,d.NL)(),z=(0,s.D)({mutationFn:async()=>{let t=c.LoginRequestSchema.parse({email:e,password:a}),{data:r}=await o.h.post("/auth/login",t);return r},onSuccess:()=>{g.invalidateQueries({queryKey:["me"]}),h.push("/")},onError:()=>m("Credenciais inv\xe1lidas. Verifique e tente novamente.")});return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:(0,r.jsxs)("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-8",children:"Kanban v2"}),l&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm font-medium text-center",children:l}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),z.mutate()},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail"}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Senha"}),(0,r.jsx)("input",{type:"password",value:a,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:z.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 rounded-lg transition-colors disabled:opacity-50",children:z.isPending?"Autenticando...":"Entrar"})]})]})})}},6285:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});let r=a(7264).Z.create({baseURL:"http://localhost:3001",withCredentials:!0})},6603:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentCreatedEventSchema=t.CardArchivedEventSchema=t.CardMovedEventSchema=t.CardUpdatedEventSchema=t.CardCreatedEventSchema=t.ListArchivedEventSchema=t.ListUpdatedEventSchema=t.ListCreatedEventSchema=t.BoardSnapshotEventSchema=t.BaseWsEventSchema=t.MoveCardRequestSchema=t.CreateCardRequestSchema=t.CreateListRequestSchema=t.CreateBoardRequestSchema=t.LoginRequestSchema=t.CommentSchema=t.CardSchema=t.ListSchema=t.MembershipSchema=t.BoardSchema=t.UserSchema=void 0;let r=a(9254);t.UserSchema=r.z.object({id:r.z.string().uuid(),email:r.z.string().email(),name:r.z.string(),createdAt:r.z.string().datetime().optional(),updatedAt:r.z.string().datetime().optional()}),t.BoardSchema=r.z.object({id:r.z.string().uuid(),name:r.z.string(),createdBy:r.z.string().uuid(),archivedAt:r.z.string().datetime().nullable().optional(),version:r.z.number().int(),createdAt:r.z.string().datetime().optional(),updatedAt:r.z.string().datetime().optional()}),t.MembershipSchema=r.z.object({id:r.z.string().uuid(),boardId:r.z.string().uuid(),userId:r.z.string().uuid(),role:r.z.enum(["owner","member","viewer"]),revokedAt:r.z.string().datetime().nullable().optional(),createdAt:r.z.string().datetime().optional()}),t.ListSchema=r.z.object({id:r.z.string().uuid(),boardId:r.z.string().uuid(),title:r.z.string(),rank:r.z.string(),archivedAt:r.z.string().datetime().nullable().optional(),version:r.z.number().int(),createdAt:r.z.string().datetime().optional(),updatedAt:r.z.string().datetime().optional()}),t.CardSchema=r.z.object({id:r.z.string().uuid(),boardId:r.z.string().uuid(),listId:r.z.string().uuid(),title:r.z.string(),description:r.z.string().nullable().optional(),status:r.z.string(),assignedTo:r.z.string().uuid().nullable().optional(),rank:r.z.string(),createdBy:r.z.string().uuid(),archivedAt:r.z.string().datetime().nullable().optional(),version:r.z.number().int(),createdAt:r.z.string().datetime().optional(),updatedAt:r.z.string().datetime().optional()}),t.CommentSchema=r.z.object({id:r.z.string().uuid(),cardId:r.z.string().uuid(),authorId:r.z.string().uuid(),body:r.z.string(),archivedAt:r.z.string().datetime().nullable().optional(),createdAt:r.z.string().datetime().optional()}),t.LoginRequestSchema=r.z.object({email:r.z.string().email(),password:r.z.string()}),t.CreateBoardRequestSchema=r.z.object({name:r.z.string().min(1)}),t.CreateListRequestSchema=r.z.object({title:r.z.string().min(1),beforeListId:r.z.string().uuid().optional(),afterListId:r.z.string().uuid().optional()}),t.CreateCardRequestSchema=r.z.object({title:r.z.string().min(1),description:r.z.string().optional(),beforeCardId:r.z.string().uuid().optional(),afterCardId:r.z.string().uuid().optional()}),t.MoveCardRequestSchema=r.z.object({toListId:r.z.string().uuid(),beforeCardId:r.z.string().uuid().optional(),afterCardId:r.z.string().uuid().optional(),clientRequestId:r.z.string().uuid(),baseCardVersion:r.z.number().int().optional()}),t.BaseWsEventSchema=r.z.object({eventId:r.z.string().uuid(),boardId:r.z.string().uuid(),boardVersion:r.z.number().int(),actorUserId:r.z.string().uuid(),serverTime:r.z.string().datetime()}),t.BoardSnapshotEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("board.snapshot"),board:t.BoardSchema,lists:r.z.array(t.ListSchema),cards:r.z.array(t.CardSchema),memberships:r.z.array(t.MembershipSchema)}),t.ListCreatedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("list.created"),list:t.ListSchema}),t.ListUpdatedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("list.updated"),list:t.ListSchema}),t.ListArchivedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("list.archived"),listId:r.z.string().uuid(),archivedAt:r.z.string().datetime()}),t.CardCreatedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("card.created"),card:t.CardSchema}),t.CardUpdatedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("card.updated"),card:t.CardSchema}),t.CardMovedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("card.moved"),cardId:r.z.string().uuid(),fromListId:r.z.string().uuid(),toListId:r.z.string().uuid(),newRank:r.z.string(),cardVersion:r.z.number().int()}),t.CardArchivedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("card.archived"),cardId:r.z.string().uuid(),archivedAt:r.z.string().datetime()}),t.CommentCreatedEventSchema=t.BaseWsEventSchema.extend({type:r.z.literal("comment.created"),comment:t.CommentSchema})},6525:function(e,t,a){"use strict";var r=Object.create?function(e,t,a,r){void 0===r&&(r=a);var i=Object.getOwnPropertyDescriptor(t,a);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,i)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]},i=function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),i(a(8844),t),i(a(6603),t)},8844:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rankInitial=function(){return String.fromCharCode(33+Math.floor(46.5))},t.rankBetween=function(e,t){let a=e||"!",r=t||"\x7f";if(a>=r)throw Error("before rank must be strictly less than after rank");let i="",n=0;for(;;){let e=n<a.length?a.charCodeAt(n):33,t=n<r.length?r.charCodeAt(n):127;if(e===t){i+=String.fromCharCode(e),n++;continue}let d=Math.floor((e+t)/2);if(d===e)i+=String.fromCharCode(e),n++;else{i+=String.fromCharCode(d);break}}return i}}},function(e){e.O(0,[789,831,254,443,686,744],function(){return e(e.s=4794)}),_N_E=e.O()}]);